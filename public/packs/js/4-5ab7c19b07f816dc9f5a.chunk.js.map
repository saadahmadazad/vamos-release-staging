{"version":3,"file":"js/4-5ab7c19b07f816dc9f5a.chunk.js","sources":["webpack:///./app/javascript/components/Room/Modal/store.vue","webpack:///./app/javascript/components/Room/Modal/store.vue?ef25","webpack:///./app/javascript/components/Room/Modal/store.vue?0326","webpack:///./app/javascript/pages/Room/index.vue","webpack:///./app/javascript/pages/Room/index.vue?bbe3","webpack:///./app/javascript/pages/Room/index.vue?44d8","webpack:///store.vue","webpack:///index.vue","webpack:///./app/javascript/components/Room/Modal/store.vue?a505","webpack:///./app/javascript/pages/Room/index.vue?bd3c"],"sourcesContent":["import { render, staticRenderFns } from \"./store.vue?vue&type=template&id=8d227084&\"\nimport script from \"./store.vue?vue&type=script&lang=js&\"\nexport * from \"./store.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"/usr/src/app/node_modules/vue-hot-reload-api/dist/index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!module.hot.data) {\n      api.createRecord('8d227084', component.options)\n    } else {\n      api.reload('8d227084', component.options)\n    }\n    module.hot.accept(\"./store.vue?vue&type=template&id=8d227084&\", function () {\n      api.rerender('8d227084', {\n        render: render,\n        staticRenderFns: staticRenderFns\n      })\n    })\n  }\n}\ncomponent.options.__file = \"app/javascript/components/Room/Modal/store.vue\"\nexport default component.exports","import mod from \"-!../../../../../node_modules/babel-loader/lib/index.js??ref--8-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./store.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/babel-loader/lib/index.js??ref--8-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./store.vue?vue&type=script&lang=js&\"","export * from \"-!../../../../../node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./store.vue?vue&type=template&id=8d227084&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=ed0ba082&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"/usr/src/app/node_modules/vue-hot-reload-api/dist/index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!module.hot.data) {\n      api.createRecord('ed0ba082', component.options)\n    } else {\n      api.reload('ed0ba082', component.options)\n    }\n    module.hot.accept(\"./index.vue?vue&type=template&id=ed0ba082&\", function () {\n      api.rerender('ed0ba082', {\n        render: render,\n        staticRenderFns: staticRenderFns\n      })\n    })\n  }\n}\ncomponent.options.__file = \"app/javascript/pages/Room/index.vue\"\nexport default component.exports","import mod from \"-!../../../../node_modules/babel-loader/lib/index.js??ref--8-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/babel-loader/lib/index.js??ref--8-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","export * from \"-!../../../../node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=template&id=ed0ba082&\"","<template>\n  <el-dialog title=\"部屋新規\" :visible=\"dialogStatus\">\n    <el-form :model=\"data\">\n      <el-form-item label=\"施設\" :label-width=\"formLabelWidth\">\n        <el-select v-model=\"data.facility_id\" placeholder=\"選択してください\">\n          <el-option\n            v-for=\"item in facilities\"\n            :key=\"item.id\"\n            :label=\"item.name\"\n            :value=\"item.id\">\n          </el-option>\n        </el-select>\n      </el-form-item>\n      <el-form-item label=\"部屋名\" :label-width=\"formLabelWidth\">\n        <el-input v-model=\"data.name\" autocomplete=\"off\"></el-input>\n      </el-form-item>\n      <el-form-item label=\"部屋数\" :label-width=\"formLabelWidth\">\n        <el-input v-model=\"data.stock_max\" autocomplete=\"off\"></el-input>\n      </el-form-item>\n      <el-form-item label=\"OB最大数\" :label-width=\"formLabelWidth\">\n        <el-input v-model=\"data.overbooking_thresh\" autocomplete=\"off\"></el-input>\n      </el-form-item>\n      <el-form-item label=\"料金\" :label-width=\"formLabelWidth\">\n        <el-input v-model=\"data.price\" autocomplete=\"off\"></el-input>\n      </el-form-item>\n      <el-form-item label=\"状態\" :label-width=\"formLabelWidth\">\n        <el-select v-model=\"data.status\" placeholder=\"選択してください\">\n          <el-option\n            v-for=\"item in options\"\n            :key=\"item.value\"\n            :label=\"item.label\"\n            :value=\"item.value\">\n          </el-option>\n        </el-select>\n      </el-form-item>\n    </el-form>\n    <div slot=\"footer\" class=\"dialog-footer\">\n      <el-button @click=\"toggleModal\">キャンセル</el-button>\n      <el-button type=\"primary\" @click=\"Create\">新規</el-button>\n    </div>\n  </el-dialog>\n</template>\n\n<script>\n  export default {\n    props: {\n      dialogStatus: Boolean,\n      toggleModal: Function,\n      init: Function\n    },\n    data() {\n      return {\n        data: {\n          name: '',\n          stock_max: 0,\n          overbooking_thresh: 0,\n          price: 0,\n          status: 0,\n          facility_id: 1\n        },\n        formLabelWidth: '120px',\n        facilities: [],\n        options: [{\n          value: 1,\n          label: '公開'\n        }, {\n          value: 0,\n          label: '不公開'\n        }],\n      }\n    },\n    methods: {\n      initOption () {\n        // 施設 data\n        this.axios.get('/api/v1/facilities')\n        .then(res => {\n          this.facilities = res.data.facilities\n        })\n        .catch(error => {\n          this.alert = { type: error.data.status, message: error.data.message }\n        })\n      },\n      Create () {\n        this.axios.post('/api/v1/rooms', {\n          room: this.data\n        })\n        .then(res => {\n          // Clear data\n          this.data = {}\n          // Modal close\n          this.toggleModal()\n          // Alert\n          this.$message({\n            message: 'ok',\n            type: res.data.status\n          })\n          // update\n          this.init()\n        })\n        .catch(error => {\n          // Modal close\n          this.toggleModal()\n          // Alert\n          this.$message({\n            message: res.data.message,\n            type: res.data.status\n          })\n        })\n      }\n    },\n    mounted () {\n      this.initOption()\n    }\n  }\n</script>","<template>\n  <div>\n    <!-- Alert Message -->\n    <alert-message v-if=\"alert.type\" :alert=\"alert\" />\n    <el-button type=\"primary\" @click=\"store\">新規</el-button>\n\n    <!-- table -->\n      <common-table\n        :columns=\"columns\"\n        :dataSource=\"rooms\"\n        :options=\"options\"\n        :fetch=\"fetchTableData\"\n        :pagination=\"pagination\"\n        @row-click=\"handleRowClick\"\n        @selection-change=\"handleSelectionChange\"\n      />\n    <!-- 新規 -->\n    <store-modal v-if=\"mode === 'store'\"\n                    :dialogStatus=\"dialogStatus\"\n                    :toggleModal=\"toggleModal\"\n                    :init=\"init\"/>\n    <!-- 編集 -->\n    <update-modal v-if=\"mode === 'update'\"\n                    :dialogStatus=\"dialogStatus\"\n                    :toggleModal=\"toggleModal\"\n                    :updateData=\"modalData\"\n                    :init=\"init\"/>\n    <!-- 削除 -->\n    <destroy-modal v-if=\"mode === 'destroy'\"\n                    :dialogStatus=\"dialogStatus\"\n                    :toggleModal=\"toggleModal\"\n                    :destroyData=\"modalData\"\n                    :init=\"init\"/>\n  </div>\n</template>\n\n<script>\nimport AlertMessage from '@/components/Shared/Alert'\nimport StoreModal from '@/components/Room/Modal/store.vue'\nimport CommonTable from '@/components/Shared/Table/index.vue'\nimport UpdateModal from '@/components/Shared/Modal/update.vue'\nimport DestroyModal from '@/components/Shared/Modal/destroy.vue'\n\n  export default {\n    components: {\n      CommonTable,\n      AlertMessage,\n      StoreModal,\n      UpdateModal,\n      DestroyModal\n    },\n    data() {\n      return {\n        mode:'',\n        alert: {},\n        rooms: [],\n        dialogStatus: false,\n        columns: [\n          {\n            prop: 'name',\n            label: '部屋名',\n          },\n          {\n            prop: 'stock_max',\n            label: '部屋数'\n          },\n          {\n            prop: 'overbooking_thresh',\n            label: 'OB最大数'\n          },\n          {\n            prop: 'price',\n            label: '料金'\n          },\n          {\n            prop: 'status',\n            label: '状態'\n          },\n          {\n            button: true,\n            label: 'Operations',\n            group: [{\n              name: '編集',\n              type: 'warning',\n              icon: 'el-icon-edit',\n              plain: true,\n              onClick: (row) => {\n                this.handleEdit(row)\n              }\n            }, {\n              name: '削除',\n              type: 'danger',\n              icon: 'el-icon-delete',\n              onClick: (row) => {\n                this.handleDelete(row)\n              }\n            }]\n          }\n        ],\n        pagination: {\n          total: 0,\n          pageIndex: 1,\n          pageSize: 15\n        },\n        options: {\n          mutiSelect: true,\n          index: true,\n          loading: false,\n          initTable: true\n        }\n      }\n    },\n    methods: {\n      toggleModal () {\n        this.dialogStatus = !this.dialogStatus\n      },\n      fetchTableData() {\n        this.options.loading = true\n        this.axios.get('/api/v1/rooms/', {\n          pageIndex: this.pagination.pageIndex,\n          pageSize: this.pagination.pageSize\n        }).then(res => {\n          const { rooms, total } = res.data\n          this.rooms = rooms\n          this.pagination.total = total\n          this.options.loading = false\n        }).catch((error) => {\n          this.options.loading = false\n        })\n      },\n      // Read\n      init () {\n        this.axios.get('/api/v1/rooms')\n        .then(res => {\n          this.rooms = res.data.rooms\n        })\n        .catch(error => {\n          this.alert = { type: res.data.status, message: res.data.message }\n        })\n      },\n      // 新規 Create\n      store () {\n        this.mode = 'store'\n        this.toggleModal()\n      },\n      handleClick(e, row){\n        e.cancelBubble = true\n        console.log(row)\n      },\n      handleRowClick(row, event, column){\n        console.log('click row:',row, event, column)\n      },\n      handleSelectionChange(selection){\n        console.log(selection)\n      },\n      handleEdit(index, row) {\n        console.log(index, row);\n      },\n      handleDelete(index, row) {\n        console.log(index, row);\n      }\n    }\n  }\n</script>\n","var render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  return _c(\n    \"el-dialog\",\n    { attrs: { title: \"部屋新規\", visible: _vm.dialogStatus } },\n    [\n      _c(\n        \"el-form\",\n        { attrs: { model: _vm.data } },\n        [\n          _c(\n            \"el-form-item\",\n            { attrs: { label: \"施設\", \"label-width\": _vm.formLabelWidth } },\n            [\n              _c(\n                \"el-select\",\n                {\n                  attrs: { placeholder: \"選択してください\" },\n                  model: {\n                    value: _vm.data.facility_id,\n                    callback: function($$v) {\n                      _vm.$set(_vm.data, \"facility_id\", $$v)\n                    },\n                    expression: \"data.facility_id\"\n                  }\n                },\n                _vm._l(_vm.facilities, function(item) {\n                  return _c(\"el-option\", {\n                    key: item.id,\n                    attrs: { label: item.name, value: item.id }\n                  })\n                }),\n                1\n              )\n            ],\n            1\n          ),\n          _vm._v(\" \"),\n          _c(\n            \"el-form-item\",\n            { attrs: { label: \"部屋名\", \"label-width\": _vm.formLabelWidth } },\n            [\n              _c(\"el-input\", {\n                attrs: { autocomplete: \"off\" },\n                model: {\n                  value: _vm.data.name,\n                  callback: function($$v) {\n                    _vm.$set(_vm.data, \"name\", $$v)\n                  },\n                  expression: \"data.name\"\n                }\n              })\n            ],\n            1\n          ),\n          _vm._v(\" \"),\n          _c(\n            \"el-form-item\",\n            { attrs: { label: \"部屋数\", \"label-width\": _vm.formLabelWidth } },\n            [\n              _c(\"el-input\", {\n                attrs: { autocomplete: \"off\" },\n                model: {\n                  value: _vm.data.stock_max,\n                  callback: function($$v) {\n                    _vm.$set(_vm.data, \"stock_max\", $$v)\n                  },\n                  expression: \"data.stock_max\"\n                }\n              })\n            ],\n            1\n          ),\n          _vm._v(\" \"),\n          _c(\n            \"el-form-item\",\n            { attrs: { label: \"OB最大数\", \"label-width\": _vm.formLabelWidth } },\n            [\n              _c(\"el-input\", {\n                attrs: { autocomplete: \"off\" },\n                model: {\n                  value: _vm.data.overbooking_thresh,\n                  callback: function($$v) {\n                    _vm.$set(_vm.data, \"overbooking_thresh\", $$v)\n                  },\n                  expression: \"data.overbooking_thresh\"\n                }\n              })\n            ],\n            1\n          ),\n          _vm._v(\" \"),\n          _c(\n            \"el-form-item\",\n            { attrs: { label: \"料金\", \"label-width\": _vm.formLabelWidth } },\n            [\n              _c(\"el-input\", {\n                attrs: { autocomplete: \"off\" },\n                model: {\n                  value: _vm.data.price,\n                  callback: function($$v) {\n                    _vm.$set(_vm.data, \"price\", $$v)\n                  },\n                  expression: \"data.price\"\n                }\n              })\n            ],\n            1\n          ),\n          _vm._v(\" \"),\n          _c(\n            \"el-form-item\",\n            { attrs: { label: \"状態\", \"label-width\": _vm.formLabelWidth } },\n            [\n              _c(\n                \"el-select\",\n                {\n                  attrs: { placeholder: \"選択してください\" },\n                  model: {\n                    value: _vm.data.status,\n                    callback: function($$v) {\n                      _vm.$set(_vm.data, \"status\", $$v)\n                    },\n                    expression: \"data.status\"\n                  }\n                },\n                _vm._l(_vm.options, function(item) {\n                  return _c(\"el-option\", {\n                    key: item.value,\n                    attrs: { label: item.label, value: item.value }\n                  })\n                }),\n                1\n              )\n            ],\n            1\n          )\n        ],\n        1\n      ),\n      _vm._v(\" \"),\n      _c(\n        \"div\",\n        {\n          staticClass: \"dialog-footer\",\n          attrs: { slot: \"footer\" },\n          slot: \"footer\"\n        },\n        [\n          _c(\"el-button\", { on: { click: _vm.toggleModal } }, [\n            _vm._v(\"キャンセル\")\n          ]),\n          _vm._v(\" \"),\n          _c(\n            \"el-button\",\n            { attrs: { type: \"primary\" }, on: { click: _vm.Create } },\n            [_vm._v(\"新規\")]\n          )\n        ],\n        1\n      )\n    ],\n    1\n  )\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns }","var render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  return _c(\n    \"div\",\n    [\n      _vm.alert.type\n        ? _c(\"alert-message\", { attrs: { alert: _vm.alert } })\n        : _vm._e(),\n      _vm._v(\" \"),\n      _c(\n        \"el-button\",\n        { attrs: { type: \"primary\" }, on: { click: _vm.store } },\n        [_vm._v(\"新規\")]\n      ),\n      _vm._v(\" \"),\n      _c(\"common-table\", {\n        attrs: {\n          columns: _vm.columns,\n          dataSource: _vm.rooms,\n          options: _vm.options,\n          fetch: _vm.fetchTableData,\n          pagination: _vm.pagination\n        },\n        on: {\n          \"row-click\": _vm.handleRowClick,\n          \"selection-change\": _vm.handleSelectionChange\n        }\n      }),\n      _vm._v(\" \"),\n      _vm.mode === \"store\"\n        ? _c(\"store-modal\", {\n            attrs: {\n              dialogStatus: _vm.dialogStatus,\n              toggleModal: _vm.toggleModal,\n              init: _vm.init\n            }\n          })\n        : _vm._e(),\n      _vm._v(\" \"),\n      _vm.mode === \"update\"\n        ? _c(\"update-modal\", {\n            attrs: {\n              dialogStatus: _vm.dialogStatus,\n              toggleModal: _vm.toggleModal,\n              updateData: _vm.modalData,\n              init: _vm.init\n            }\n          })\n        : _vm._e(),\n      _vm._v(\" \"),\n      _vm.mode === \"destroy\"\n        ? _c(\"destroy-modal\", {\n            attrs: {\n              dialogStatus: _vm.dialogStatus,\n              toggleModal: _vm.toggleModal,\n              destroyData: _vm.modalData,\n              init: _vm.init\n            }\n          })\n        : _vm._e()\n    ],\n    1\n  )\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns }"],"mappings":";;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAiBA;AACA;AACA;;;;;;;;;;;;ACtCA;AAAA;AAAA;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAiBA;AACA;AACA;;;;;;;;;;;;ACtCA;AAAA;AAAA;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC4CA;AACA;AACA;AACA;AACA;AAHA;AAKA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AANA;AAQA;AACA;AACA;AACA;AACA;AAFA;AAIA;AACA;AAFA;AAdA;AAmBA;AACA;AACA;AAAA;AACA;AAAA;AACA;AAEA;AACA;AAEA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AAAA;AACA;AAAA;AACA;AADA;AAIA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AAFA;AACA;AACA;AAGA;AACA;AAEA;AACA;AACA;AACA;AAAA;AACA;AACA;AAFA;AAIA;AACA;AArCA;AAuCA;AACA;AACA;AApEA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACPA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AALA;AAOA;AAAA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AAFA;AAKA;AACA;AAFA;AAKA;AACA;AAFA;AAKA;AACA;AAFA;AAKA;AACA;AAFA;AAKA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAPA;AASA;AACA;AACA;AACA;AACA;AACA;AANA;AAXA;AAqBA;AACA;AACA;AACA;AAHA;AAKA;AACA;AACA;AACA;AACA;AAJA;AApDA;AA2DA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AAAA;AACA;AACA;AACA;AAFA;AAGA;AAAA;AAAA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AAAA;AAEA;AACA;AAEA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAhDA;AArEA;;;;;;;;;;;;AC3CA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;ACzKA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;A","sourceRoot":""}