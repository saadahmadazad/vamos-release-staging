(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{644:function(t,e,a){},645:function(t,e,a){},648:function(t,e,a){var s={"./af":514,"./af.js":514,"./ar":515,"./ar-dz":516,"./ar-dz.js":516,"./ar-kw":517,"./ar-kw.js":517,"./ar-ly":518,"./ar-ly.js":518,"./ar-ma":519,"./ar-ma.js":519,"./ar-sa":520,"./ar-sa.js":520,"./ar-tn":521,"./ar-tn.js":521,"./ar.js":515,"./az":522,"./az.js":522,"./be":523,"./be.js":523,"./bg":524,"./bg.js":524,"./bm":525,"./bm.js":525,"./bn":526,"./bn.js":526,"./bo":527,"./bo.js":527,"./br":528,"./br.js":528,"./bs":529,"./bs.js":529,"./ca":530,"./ca.js":530,"./cs":531,"./cs.js":531,"./cv":532,"./cv.js":532,"./cy":533,"./cy.js":533,"./da":534,"./da.js":534,"./de":535,"./de-at":536,"./de-at.js":536,"./de-ch":537,"./de-ch.js":537,"./de.js":535,"./dv":538,"./dv.js":538,"./el":539,"./el.js":539,"./en-SG":540,"./en-SG.js":540,"./en-au":541,"./en-au.js":541,"./en-ca":542,"./en-ca.js":542,"./en-gb":543,"./en-gb.js":543,"./en-ie":544,"./en-ie.js":544,"./en-il":545,"./en-il.js":545,"./en-nz":546,"./en-nz.js":546,"./eo":547,"./eo.js":547,"./es":548,"./es-do":549,"./es-do.js":549,"./es-us":550,"./es-us.js":550,"./es.js":548,"./et":551,"./et.js":551,"./eu":552,"./eu.js":552,"./fa":553,"./fa.js":553,"./fi":554,"./fi.js":554,"./fo":555,"./fo.js":555,"./fr":556,"./fr-ca":557,"./fr-ca.js":557,"./fr-ch":558,"./fr-ch.js":558,"./fr.js":556,"./fy":559,"./fy.js":559,"./ga":560,"./ga.js":560,"./gd":561,"./gd.js":561,"./gl":562,"./gl.js":562,"./gom-latn":563,"./gom-latn.js":563,"./gu":564,"./gu.js":564,"./he":565,"./he.js":565,"./hi":566,"./hi.js":566,"./hr":567,"./hr.js":567,"./hu":568,"./hu.js":568,"./hy-am":569,"./hy-am.js":569,"./id":570,"./id.js":570,"./is":571,"./is.js":571,"./it":572,"./it-ch":573,"./it-ch.js":573,"./it.js":572,"./ja":574,"./ja.js":574,"./jv":575,"./jv.js":575,"./ka":576,"./ka.js":576,"./kk":577,"./kk.js":577,"./km":578,"./km.js":578,"./kn":579,"./kn.js":579,"./ko":580,"./ko.js":580,"./ku":581,"./ku.js":581,"./ky":582,"./ky.js":582,"./lb":583,"./lb.js":583,"./lo":584,"./lo.js":584,"./lt":585,"./lt.js":585,"./lv":586,"./lv.js":586,"./me":587,"./me.js":587,"./mi":588,"./mi.js":588,"./mk":589,"./mk.js":589,"./ml":590,"./ml.js":590,"./mn":591,"./mn.js":591,"./mr":592,"./mr.js":592,"./ms":593,"./ms-my":594,"./ms-my.js":594,"./ms.js":593,"./mt":595,"./mt.js":595,"./my":596,"./my.js":596,"./nb":597,"./nb.js":597,"./ne":598,"./ne.js":598,"./nl":599,"./nl-be":600,"./nl-be.js":600,"./nl.js":599,"./nn":601,"./nn.js":601,"./pa-in":602,"./pa-in.js":602,"./pl":603,"./pl.js":603,"./pt":604,"./pt-br":605,"./pt-br.js":605,"./pt.js":604,"./ro":606,"./ro.js":606,"./ru":607,"./ru.js":607,"./sd":608,"./sd.js":608,"./se":609,"./se.js":609,"./si":610,"./si.js":610,"./sk":611,"./sk.js":611,"./sl":612,"./sl.js":612,"./sq":613,"./sq.js":613,"./sr":614,"./sr-cyrl":615,"./sr-cyrl.js":615,"./sr.js":614,"./ss":616,"./ss.js":616,"./sv":617,"./sv.js":617,"./sw":618,"./sw.js":618,"./ta":619,"./ta.js":619,"./te":620,"./te.js":620,"./tet":621,"./tet.js":621,"./tg":622,"./tg.js":622,"./th":623,"./th.js":623,"./tl-ph":624,"./tl-ph.js":624,"./tlh":625,"./tlh.js":625,"./tr":626,"./tr.js":626,"./tzl":627,"./tzl.js":627,"./tzm":628,"./tzm-latn":629,"./tzm-latn.js":629,"./tzm.js":628,"./ug-cn":630,"./ug-cn.js":630,"./uk":631,"./uk.js":631,"./ur":632,"./ur.js":632,"./uz":633,"./uz-latn":634,"./uz-latn.js":634,"./uz.js":633,"./vi":635,"./vi.js":635,"./x-pseudo":636,"./x-pseudo.js":636,"./yo":637,"./yo.js":637,"./zh-cn":638,"./zh-cn.js":638,"./zh-hk":639,"./zh-hk.js":639,"./zh-tw":640,"./zh-tw.js":640};function o(t){var e=r(t);return a(e)}function r(t){if(!a.o(s,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return s[t]}o.keys=function(){return Object.keys(s)},o.resolve=r,t.exports=o,o.id=648},661:function(t,e,a){"use strict";var s=a(644);a.n(s).a},662:function(t,e,a){"use strict";var s=a(645);a.n(s).a},668:function(t,e,a){"use strict";a.r(e);var s=a(653),o=a(643),r=a.n(o),n=a(655),i=a.n(n),l=a(657),d=a.n(l),u=a(658),c=a.n(u),m=a(659),j=a.n(m),_=a(660),b=a.n(_);function h(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}var f={props:{dialogStatus:Boolean,toggleModal:Function,init:Function},data:function(){var t;return h(t={data:{rooms:[],checkin:"",checkout:"",is_blocked:!0},date_range:[],options:{rooms:[]}},"options",{status:[{value:!0,label:"\u30d6\u30ed\u30c3\u30af"},{value:!1,label:"\u4e88\u7d04\u53ef"}],rooms:[]}),h(t,"formLabelWidth","120px"),h(t,"rules",{ota_room_id:[{required:!0,message:"\u90e8\u5c4b\u3092\u5165\u529b\u3057\u3066\u304f\u3060\u3055\u3044\u3002",trigger:"change"}],count_room:[{required:!0,message:"\u5728\u5eab\u6578\u3092\u5165\u529b\u3057\u3066\u304f\u3060\u3055\u3044\u3002",trigger:"change"}],is_blocked:[{required:!0,message:"\u72b6\u614b\u3092\u5165\u529b\u3057\u3066\u304f\u3060\u3055\u3044\u3002",trigger:"change"}]}),t},methods:{initOption:function(){var t=this;this.axios.get("/api/v1/rooms").then(function(e){t.options.rooms=e.data.rooms}).catch(function(e){t.alert={type:e.data.status,message:e.data.message}})},Create:function(t){var e=this;this.data.checkin=this.date_range[0],this.data.checkout=this.date_range[1],this.$refs[t].validate(function(t){if(!t)return!1;e.axios.post("/api/v1/bookings",{booking:e.data}).then(function(t){e.data={},e.toggleModal(),e.$message({message:"ok",type:t.data.status})}).catch(function(t){e.toggleModal(),e.$message({message:t.data.message,type:t.data.status})})})},resetForm:function(t){this.date_range=[],this.$refs[t].resetFields(),this.toggleModal()}},created:function(){this.initOption()}},v=a(26),g=Object(v.a)(f,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-dialog",{attrs:{title:"\u5728\u5eab",visible:t.dialogStatus}},[a("el-form",{ref:"ruleForm",attrs:{model:t.data,rules:t.rules}},[a("el-form-item",{attrs:{label:"\u90e8\u5c4b","label-width":t.formLabelWidth,prop:"ota_room_id"}},[a("el-select",{attrs:{placeholder:"\u9078\u629e\u3057\u3066\u304f\u3060\u3055\u3044"},model:{value:t.data.ota_room_id,callback:function(e){t.$set(t.data,"ota_room_id",e)},expression:"data.ota_room_id"}},t._l(t.options.rooms,function(t){return a("el-option",{key:t.id,attrs:{label:t.name,value:t.id}})}),1)],1),t._v(" "),a("el-form-item",{attrs:{label:"\u65e5\u4ed8","label-width":t.formLabelWidth,prop:"date_range"}},[a("el-date-picker",{attrs:{type:"daterange","start-placeholder":"Start","end-placeholder":"End","default-time":["00:00:00","23:59:59"]},model:{value:t.date_range,callback:function(e){t.date_range=e},expression:"date_range"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"\u5728\u5eab\u6570","label-width":t.formLabelWidth,prop:"count_room"}},[a("el-input",{attrs:{type:"number",autocomplete:"off"},model:{value:t.data.count_room,callback:function(e){t.$set(t.data,"count_room",e)},expression:"data.count_room"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"\u72b6\u614b","label-width":t.formLabelWidth,prop:"is_blocked"}},[a("el-select",{attrs:{placeholder:"\u9078\u629e\u3057\u3066\u304f\u3060\u3055\u3044"},model:{value:t.data.is_blocked,callback:function(e){t.$set(t.data,"is_blocked",e)},expression:"data.is_blocked"}},t._l(t.options.status,function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}),1)],1)],1),t._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){return t.resetForm("ruleForm")}}},[t._v("\u30ad\u30e3\u30f3\u30bb\u30eb")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.Create("ruleForm")}}},[t._v("\u4fdd\u5b58")])],1)],1)},[],!1,null,null,null).exports,p={props:{dialogStatus:Boolean,toggleModal:Function,detail:Object},data:function(){return{data:{comment:"\u30c6\u30ad\u30b9\u30c8"}}}},k=(a(661),Object(v.a)(p,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-dialog",{attrs:{title:"\u4e88\u7d04\u8a73\u7d30",visible:t.dialogStatus}},[a("table",{staticStyle:{width:"100%","border-spacing":"0px"}},[a("tr",[a("th",[t._v("\u5bbf\u6cca\u8005\u540d")]),a("td",[t._v(t._s(t.detail.guest_name)+"("+t._s(t.detail.guest_kana)+")")])]),a("tr",[a("th",[t._v("\u4ee3\u8868\u8005\u540d")]),a("td",[t._v(t._s(t.detail.subscriber_name)+"("+t._s(t.detail.subscriber_kana)+")")])]),a("tr",[a("th",[t._v("\u4ee3\u8868\u8005\u9023\u7d61\u5148")]),a("td",[t._v(t._s(t.detail.subscriber_tel))])]),a("tr",[a("th",[t._v("\u4ee3\u8868\u8005\u30e1\u30fc\u30eb")]),a("td",[t._v(t._s(t.detail.subscriber_email))])]),a("tr",[a("th",[t._v("\u4ee3\u8868\u8005\u4f4f\u6240")]),a("td",[t._v(t._s(t.detail.subscriber_address))])]),a("tr",[a("th",[t._v("\u4e88\u7d04\u65e5")]),a("td",[t._v(t._s(t.detail.booking_date))])]),a("tr",[a("th",[t._v("\u66f4\u65b0\u65e5")]),a("td",[t._v(t._s(t.detail.updated_at))])]),a("tr",[a("th",[t._v("\u30c1\u30a7\u30c3\u30af\u30a4\u30f3")]),a("td",[t._v(t._s(t.detail.checkin))])]),a("tr",[a("th",[t._v("\u30c1\u30a7\u30c3\u30af\u30a2\u30a6\u30c8")]),a("td",[t._v(t._s(t.detail.checkout))])]),a("tr",[a("th",[t._v("\u90e8\u5c4b\u6570")]),a("td",[t._v(t._s(t.detail.count_room))])]),a("tr",[a("th",[t._v("\u5bbf\u6cca\u4eba\u6570")]),a("td",[t._v(t._s(t.detail.number_total)+"\u4eba \u7537("+t._s(t.detail.number_male)+") \u5973("+t._s(t.detail.number_female)+") \u5927\u4eba("+t._s(t.detail.number_adluts)+") \u5b50\u4f9b("+t._s(t.detail.number_children)+")")])]),a("tr",[a("th",[t._v("\u90e8\u5c4b\u6599\u91d1")]),a("td",[t._v(t._s(t.detail.price))])]),a("tr",[a("th",[t._v("\u652f\u6255\u3044\u65b9\u6cd5")]),a("td",[t._v(t._s(t.detail.payment_method))])]),a("tr",[a("th",[t._v("\u73fe\u5730\u7cbe\u7b97\u984d")]),a("td",[t._v(t._s(t.detail.price_balance))])]),a("tr",[a("th",[t._v("\u652f\u6255\u3044\u5408\u8a08")]),a("td",[t._v(t._s(t.detail.price_total))])])]),t._v(" "),a("el-form",{attrs:{model:t.data}},[a("el-form-item",{attrs:{label:"\u5099\u8003"}},[a("el-input",{attrs:{type:"textarea",rows:2,placeholder:"Please input"},model:{value:t.data.comment,callback:function(e){t.$set(t.data,"comment",e)},expression:"data.comment"}})],1)],1),t._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:t.toggleModal}},[t._v("\u30ad\u30e3\u30f3\u30bb\u30eb")]),t._v(" "),a("el-button",{attrs:{type:"primary"}},[t._v("\u78ba\u8a8d")])],1)],1)},[],!1,null,null,null).exports),y=a(509),x=a.n(y);function M(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}var w={components:{FullCalendar:s.a,StockModal:g,DetailModal:k},props:{event:{type:Array,required:!1}},data:function(){return{calendarPlugins:[r.a,i.a,d.a,j.a,c.a],locale:b.a,events:[],header:{left:"today prev,next",center:"title",right:"dayGridMonth,timeGridWeek,timeGridDay,resourceTimeline"},slotDuration:"00:30:00",snapDuration:"00:15:00",slotLabelFormat:"H:mm",defaultTimedEventDuration:"10:00:00",axisFormat:"H:mm",timeFormat:"H:mm",minTimes:"07:00",maxTimes:"19:00",buttonText:{prev:"",next:"",prevYear:"",nextYear:""},resourceGroupField:"building",resources:[{id:"a",building:"\u96e3\u6ce2\u30db\u30c6\u30eb",title:"3\u4eba\u90e8\u5c4b"},{id:"b",building:"\u7121\u6599\u30db\u30c6\u30eb",title:"4\u4eba\u90e8\u5c4b"}],dialogStatus:!1,mode:"",detail:{}}},methods:{toggleModal:function(){this.dialogStatus=!this.dialogStatus},init:function(){var t=this;this.axios.get("/api/v1/bookings").then(function(e){t.bookings=e.data.bookings,t.bookings.forEach(function(e){e.is_blocked?t.events.push({id:e.id,start:x()(e.checkin).format("YYYY-MM-DD"),end:x()(e.checkout).format("YYYY-MM-DD"),title:e.room.name,className:"block_event",extendedProps:{type:"block"}}):"rakuten"===e.otum.provider?t.events.push({id:e.id,start:x()(e.checkin).format("YYYY-MM-DD"),end:x()(e.checkout).format("YYYY-MM-DD"),title:e.room.name,className:"rakuten_event",extendedProps:{type:"rakuten"}}):"booking"===e.otum.provider&&t.events.push({id:e.id,start:x()(e.checkin).format("YYYY-MM-DD"),end:x()(e.checkout).format("YYYY-MM-DD"),title:e.room.name,className:"booking_event",extendedProps:{type:"bookign"}})})}).catch(function(t){console.log("error")})},eventClick:function(t){return this.mode="detail",this.detail=this.bookings.find(function(e){return function(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{},s=Object.keys(a);"function"===typeof Object.getOwnPropertySymbols&&(s=s.concat(Object.getOwnPropertySymbols(a).filter(function(t){return Object.getOwnPropertyDescriptor(a,t).enumerable}))),s.forEach(function(e){M(t,e,a[e])})}return t}({},e,{id:t.event.id})}),"block"!==t.event.extendedProps.type&&this.toggleModal()},dateClick:function(t){this.mode="stock",this.toggleModal()}},created:function(){this.init()}},D=(a(662),Object(v.a)(w,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-container",[a("FullCalendar",{attrs:{defaultView:"timeGridWeek",locale:t.locale,plugins:t.calendarPlugins,events:t.events,editable:!0,selectable:!0,ignoreTimezone:!1,nowIndicator:!0,header:t.header,eventLimit:!0,firstDay:0,weekends:!0,weekMode:"fixed",weekNumbers:!1,slotDuration:t.slotDuration,snapDuration:t.snapDuration,allDaySlot:!0,allDayText:"\u5168\u65e5",slotMinutes:15,snapMinutes:15,slotLabelFormat:t.slotLabelFormat,firstHour:9,defaultTimedEventDuration:t.defaultTimedEventDuration,axisFormat:t.axisFormat,timeFormat:t.timeFormat,maxTime:t.maxTimes,resourceGroupField:t.resourceGroupField,resources:t.resources,minTime:t.minTimes},on:{dateClick:t.dateClick,eventClick:t.eventClick}}),t._v(" "),"stock"===t.mode?a("stock-modal",{attrs:{dialogStatus:t.dialogStatus,toggleModal:t.toggleModal,init:t.init}}):t._e(),t._v(" "),"detail"===t.mode?a("detail-modal",{attrs:{dialogStatus:t.dialogStatus,toggleModal:t.toggleModal,detail:t.detail}}):t._e()],1)},[],!1,null,null,null));e.default=D.exports}}]);
//# sourceMappingURL=3-2f0c339189c1b8910703.chunk.js.map