{"version":3,"file":"js/2-4cb4c81c0d44e8939c00.chunk.js","sources":["webpack:///./app/javascript/components/Facility/Modal/store.vue","webpack:///./app/javascript/components/Facility/Modal/store.vue?7590","webpack:///./app/javascript/components/Facility/Modal/store.vue?6113","webpack:///./app/javascript/pages/Facility/index.vue","webpack:///./app/javascript/pages/Facility/index.vue?6f3f","webpack:///./app/javascript/pages/Facility/index.vue?5ec5","webpack:///store.vue","webpack:///index.vue","webpack:///./app/javascript/components/Facility/Modal/store.vue?5e1c","webpack:///./app/javascript/pages/Facility/index.vue?0202"],"sourcesContent":["import { render, staticRenderFns } from \"./store.vue?vue&type=template&id=704f3006&\"\nimport script from \"./store.vue?vue&type=script&lang=js&\"\nexport * from \"./store.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"/usr/src/app/node_modules/vue-hot-reload-api/dist/index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!module.hot.data) {\n      api.createRecord('704f3006', component.options)\n    } else {\n      api.reload('704f3006', component.options)\n    }\n    module.hot.accept(\"./store.vue?vue&type=template&id=704f3006&\", function () {\n      api.rerender('704f3006', {\n        render: render,\n        staticRenderFns: staticRenderFns\n      })\n    })\n  }\n}\ncomponent.options.__file = \"app/javascript/components/Facility/Modal/store.vue\"\nexport default component.exports","import mod from \"-!../../../../../node_modules/babel-loader/lib/index.js??ref--8-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./store.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/babel-loader/lib/index.js??ref--8-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./store.vue?vue&type=script&lang=js&\"","export * from \"-!../../../../../node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./store.vue?vue&type=template&id=704f3006&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=681e9707&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"/usr/src/app/node_modules/vue-hot-reload-api/dist/index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!module.hot.data) {\n      api.createRecord('681e9707', component.options)\n    } else {\n      api.reload('681e9707', component.options)\n    }\n    module.hot.accept(\"./index.vue?vue&type=template&id=681e9707&\", function () {\n      api.rerender('681e9707', {\n        render: render,\n        staticRenderFns: staticRenderFns\n      })\n    })\n  }\n}\ncomponent.options.__file = \"app/javascript/pages/Facility/index.vue\"\nexport default component.exports","import mod from \"-!../../../../node_modules/babel-loader/lib/index.js??ref--8-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/babel-loader/lib/index.js??ref--8-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","export * from \"-!../../../../node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=template&id=681e9707&\"","<template>\n  <el-dialog title=\"施設新規\" :visible=\"dialogStatus\">\n    <el-form :model=\"data\">\n      <el-form-item label=\"施設名\">\n        <el-input v-model=\"data.name\" autocomplete=\"off\"></el-input>\n      </el-form-item>\n      <el-form-item label=\"施設場所\">\n        <el-input v-model=\"data.location\" autocomplete=\"off\"></el-input>\n      </el-form-item>\n    </el-form>\n    <div slot=\"footer\" class=\"dialog-footer\">\n      <el-button @click=\"toggleModal\">キャンセル</el-button>\n      <el-button type=\"primary\" @click=\"Create()\">新規</el-button>\n    </div>\n  </el-dialog>\n</template>\n\n<script>\n  export default {\n    props: {\n      dialogStatus: Boolean,\n      toggleModal: Function,\n      init: Function\n    },\n    data() {\n      return {\n        data: {\n          name: '',\n          location: '',\n          user_id: this.$auth.user().id\n        }\n      }\n    },\n    methods: {\n      Create () {\n        this.axios.post('/api/v1/facilities', {\n          facility: this.data\n        })\n        .then(res => {\n          // Clear data\n          this.data = {}\n          // Modal close\n          this.toggleModal()\n          // Alert\n          this.$message({\n            message: 'ok',\n            type: res.data.status\n          })\n          // update\n          this.init()\n        })\n        .catch(res => {\n          // Modal close\n          this.toggleModal()\n          // Alert\n          this.$message({\n            message: res.data.message,\n            type: res.data.status\n          })\n        })\n      }\n    }\n  }\n</script>","<template>\n    <div>\n      <!-- Alert Message -->\n      <alert-message v-if=\"alert.type\" :alert=\"alert\" />\n      <el-button type=\"primary\" @click=\"store\">新規</el-button>\n      <common-table\n        :columns=\"columns\"\n        :dataSource=\"facilities\"\n        :options=\"options\"\n        :fetch=\"fetchTableData\"\n        :pagination=\"pagination\"\n        @row-click=\"handleRowClick\"\n        @selection-change=\"handleSelectionChange\"\n        />\n      <!-- 新規 -->\n      <store-modal v-if=\"mode === 'store'\"\n                      :dialogStatus=\"dialogStatus\"\n                      :toggleModal=\"toggleModal\"\n                      :init=\"init\"/>\n      <!-- 編集 -->\n      <update-modal v-if=\"mode === 'update'\"\n                      :dialogStatus=\"dialogStatus\"\n                      :toggleModal=\"toggleModal\"\n                      :updateData=\"modalData\"\n                      :init=\"init\"/>\n      <!-- 削除 -->\n      <destroy-modal v-if=\"mode === 'destroy'\"\n                      :dialogStatus=\"dialogStatus\"\n                      :toggleModal=\"toggleModal\"\n                      :destroyData=\"modalData\"\n                      :init=\"init\"/>\n    </div>\n</template>\n\n<script>\nimport AlertMessage from '@/components/Shared/Alert'\nimport StoreModal from '@/components/Facility/Modal/store.vue'\nimport CommonTable from '@/components/Shared/Table/index.vue'\nimport UpdateModal from '@/components/Shared/Modal/update.vue'\nimport DestroyModal from '@/components/Shared/Modal/destroy.vue'\n\nexport default{\n  components:{\n    CommonTable,\n    AlertMessage,\n    StoreModal,\n    UpdateModal,\n    DestroyModal\n  },\n  data(){\n    return {\n      mode:'',\n      dialogStatus: false,\n      facilities: [],\n      alert: {},\n      columns: [\n        {\n          prop: 'name',\n          label: '施設名',\n        },\n        {\n          prop: 'location',\n          label: '施設場所'\n        },\n        {\n          prop: 'user_id',\n          label: 'ユーザー'\n        },\n        {\n          button: true,\n          label: 'Operations',\n          group: [{\n            name: '編集',\n            type: 'warning',\n            icon: 'el-icon-edit',\n            plain: true,\n            onClick: (row) => {\n              this.update(row)\n            }\n          }, {\n            name: '削除',\n            type: 'danger',\n            icon: 'el-icon-delete',\n            onClick: (row) => {\n              this.destroy(row)\n            }\n          }]\n        }\n      ],\n      pagination: {\n        total: 0,\n        pageIndex: 1,\n        pageSize: 15\n      },\n      options: {\n        mutiSelect: true,\n        index: true,\n        loading: false,\n        initTable: true\n      }\n    }\n  },\n  methods: {\n    toggleModal () {\n      this.dialogStatus = !this.dialogStatus\n    },\n    handleClick(e, row){\n      e.cancelBubble = true\n    },\n    fetchTableData() {\n       this.options.loading = true\n       this.axios.get('/api/v1/facilities/', {\n        pageIndex: this.pagination.pageIndex,\n        pageSize: this.pagination.pageSize\n      }).then(res => {\n        const { facilities, total } = res.data\n        this.facilities = facilities\n        this.pagination.total = total\n        this.options.loading = false\n      }).catch((error) => {\n        this.options.loading = false\n        this.alert = { type: res.data.status, message: res.data.message }\n      })\n    },\n    handleRowClick(row, event, column){\n      console.log('click row:',row, event, column)\n    },\n    handleSelectionChange(selection){\n      console.log(selection)\n    },\n    // Read\n    init () {\n      this.axios.get('/api/v1/facilities')\n      .then(res => {\n        this.facilities = res.data.facilities\n      })\n      .catch(error => {\n        this.alert = { type: res.data.status, message: res.data.message }\n      })\n    },\n    // 新規 Create\n    store () {\n      this.mode = 'store'\n      this.toggleModal()\n    },\n    // 編集 Update\n    update (data) {\n      this.mode = 'update'\n      this.modalData = {\n        url: '/api/v1/facilities/' + data.id,\n        data: [{\n          type: 'input',\n          label: '施設名',\n          name: 'name'\n        },{\n          type: 'input',\n          label: '施設場所',\n          name: 'location'\n        },{\n          type: 'data',\n          value: data.user_id,\n          name: 'user_id'\n        }]\n      }\n      this.toggleModal()\n    },\n    // 削除 Delete\n    destroy (data) {\n      this.mode = 'destroy'\n      this.modalData = {\n        url: '/api/v1/facilities/' + data.id,\n        message: '施設を削除しますか？'\n      }\n      this.toggleModal()\n    }\n  }\n}\n</script>","var render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  return _c(\n    \"el-dialog\",\n    { attrs: { title: \"施設新規\", visible: _vm.dialogStatus } },\n    [\n      _c(\n        \"el-form\",\n        { attrs: { model: _vm.data } },\n        [\n          _c(\n            \"el-form-item\",\n            { attrs: { label: \"施設名\" } },\n            [\n              _c(\"el-input\", {\n                attrs: { autocomplete: \"off\" },\n                model: {\n                  value: _vm.data.name,\n                  callback: function($$v) {\n                    _vm.$set(_vm.data, \"name\", $$v)\n                  },\n                  expression: \"data.name\"\n                }\n              })\n            ],\n            1\n          ),\n          _vm._v(\" \"),\n          _c(\n            \"el-form-item\",\n            { attrs: { label: \"施設場所\" } },\n            [\n              _c(\"el-input\", {\n                attrs: { autocomplete: \"off\" },\n                model: {\n                  value: _vm.data.location,\n                  callback: function($$v) {\n                    _vm.$set(_vm.data, \"location\", $$v)\n                  },\n                  expression: \"data.location\"\n                }\n              })\n            ],\n            1\n          )\n        ],\n        1\n      ),\n      _vm._v(\" \"),\n      _c(\n        \"div\",\n        {\n          staticClass: \"dialog-footer\",\n          attrs: { slot: \"footer\" },\n          slot: \"footer\"\n        },\n        [\n          _c(\"el-button\", { on: { click: _vm.toggleModal } }, [\n            _vm._v(\"キャンセル\")\n          ]),\n          _vm._v(\" \"),\n          _c(\n            \"el-button\",\n            {\n              attrs: { type: \"primary\" },\n              on: {\n                click: function($event) {\n                  return _vm.Create()\n                }\n              }\n            },\n            [_vm._v(\"新規\")]\n          )\n        ],\n        1\n      )\n    ],\n    1\n  )\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns }","var render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  return _c(\n    \"div\",\n    [\n      _vm.alert.type\n        ? _c(\"alert-message\", { attrs: { alert: _vm.alert } })\n        : _vm._e(),\n      _vm._v(\" \"),\n      _c(\n        \"el-button\",\n        { attrs: { type: \"primary\" }, on: { click: _vm.store } },\n        [_vm._v(\"新規\")]\n      ),\n      _vm._v(\" \"),\n      _c(\"common-table\", {\n        attrs: {\n          columns: _vm.columns,\n          dataSource: _vm.facilities,\n          options: _vm.options,\n          fetch: _vm.fetchTableData,\n          pagination: _vm.pagination\n        },\n        on: {\n          \"row-click\": _vm.handleRowClick,\n          \"selection-change\": _vm.handleSelectionChange\n        }\n      }),\n      _vm._v(\" \"),\n      _vm.mode === \"store\"\n        ? _c(\"store-modal\", {\n            attrs: {\n              dialogStatus: _vm.dialogStatus,\n              toggleModal: _vm.toggleModal,\n              init: _vm.init\n            }\n          })\n        : _vm._e(),\n      _vm._v(\" \"),\n      _vm.mode === \"update\"\n        ? _c(\"update-modal\", {\n            attrs: {\n              dialogStatus: _vm.dialogStatus,\n              toggleModal: _vm.toggleModal,\n              updateData: _vm.modalData,\n              init: _vm.init\n            }\n          })\n        : _vm._e(),\n      _vm._v(\" \"),\n      _vm.mode === \"destroy\"\n        ? _c(\"destroy-modal\", {\n            attrs: {\n              dialogStatus: _vm.dialogStatus,\n              toggleModal: _vm.toggleModal,\n              destroyData: _vm.modalData,\n              init: _vm.init\n            }\n          })\n        : _vm._e()\n    ],\n    1\n  )\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns }"],"mappings":";;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAiBA;AACA;AACA;;;;;;;;;;;;ACtCA;AAAA;AAAA;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAiBA;AACA;AACA;;;;;;;;;;;;ACtCA;AAAA;AAAA;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACkBA;AACA;AACA;AACA;AACA;AAHA;AAKA;AACA;AACA;AACA;AACA;AACA;AAHA;AADA;AAOA;AACA;AACA;AAAA;AACA;AAAA;AACA;AADA;AAIA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AAFA;AACA;AACA;AAGA;AACA;AAEA;AACA;AACA;AACA;AAAA;AACA;AACA;AAFA;AAIA;AACA;AA3BA;AAfA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACiBA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AALA;AAOA;AAAA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AAFA;AAKA;AACA;AAFA;AAKA;AACA;AAFA;AAKA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAPA;AASA;AACA;AACA;AACA;AACA;AACA;AANA;AAXA;AAqBA;AACA;AACA;AACA;AAHA;AAKA;AACA;AACA;AACA;AACA;AAJA;AA5CA;AAmDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AAAA;AACA;AACA;AACA;AAFA;AAGA;AAAA;AAAA;AAEA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AAAA;AAEA;AACA;AAEA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAHA;AAKA;AACA;AACA;AAHA;AAKA;AACA;AACA;AAHA;AAVA;AAgBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAFA;AAIA;AACA;AAxEA;AA7DA;;;;;;;;;;;;ACzCA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;ACpFA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;A","sourceRoot":""}